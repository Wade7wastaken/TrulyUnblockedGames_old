<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Nothing to See Here</title>
	<style>
		body {
			color: rgb(220, 220, 220);
			background-color: rgb(20, 20, 20);
		}

		a,
		.tab button {
			color: rgb(220, 220, 220);
		}

		.tab {
			background-color: #1495ff;
		}

		.tab button {
			background-color: inherit;
			float: left;
			border: none;
			outline: none;
			cursor: pointer;
			padding: 14px 16px;
			transition: 0.3s;
			border-radius: 12px;
			margin-left: 8px;
		}

		.tab button:hover {
			background-color: #0d6fbf;
		}

		.tab button.active {
			background-color: #0b518a;
		}

		.tabcontent {
			display: none;
			padding: 6px 12px;
			border-top: none;
		}

		.webelements {
			display: block;
			margin-left: 10px;
			margin-top: 16px;
		}
	</style>
</head>

<body>
	<h1>Choose a console</h1>

	<div class="tab">
		<button class="tablinks NES" onclick="updateTabs('NES'); updateOptions();">Nintendo Entertainment
			System</button>
		<button class="tablinks GBA" onclick="updateTabs('GBA'); updateOptions();">Game Boy Advance</button>
		<button class="tablinks N64" onclick="updateTabs('N64'); updateOptions();">Nintendo 64</button>
		<button class="tablinks Web" onclick="updateTabs('Web'); updateOptions();">Web</button>
	</div>

	<br />
	<br />
	<br />

	<div id="options" style="padding: 6px 12px;">
		<h2 id="optionstitle">Options</h2>
		<div id="emu">
			<label for="emuselect" id="emulabel">Choose an emulator:</label>
			<select id="emuselect" onchange="updateOptions()">
				<option>EmulatorJS</option>
				<!--0-->
				<option>NeptunJS</option>
				<!--1-->
			</select>
		</div>
		<div id="res">
			<label for="resselect" id="reslabel">Choose a resolution:</label>
			<select id="resselect" onchange="updateOptions()">
				<option>640x480</option>
				<option>960x720</option>
				<option>1280x960</option>
			</select>
		</div>
		<div id="mirror">
			<label for="mirrorcheck" id="mirrorlabel">Edit Mirror?</label>
			<input type="checkbox" id="mirrorcheck" onchange="updateOptions()" checked />
		</div>
		<div id="search">
			<label for="searchbox" id="searchlabel">Search: </label>
			<input type="text" id="searchbox" onkeyup="updateLinks()" />
		</div>
	</div>

	<div id="NES" class="tabcontent">
		<h2>Nintendo Entertainment System</h2>
		<h3>Super Mario Bros.</h3>
		<ul>
			<li><a href="game.html?ver=nes&game=smb">Super Mario Bros. (World)</a></li>
			<li><a href="game.html?ver=nes&game=smb_2">Super Mario Bros. 2 (USA)</a></li>
			<li><a href="game.html?ver=nes&game=smb_3">Super Mario Bros. 3 (USA)</a></li>
		</ul>
		<h3>Romhacks</h3>
		<ul>
			<li><a href="game.html?ver=nes&game=smb_practice">Super Mario Bros. Practice (World)</a></li>
		</ul>
		<h3>Tetris</h3>
		<ul>
			<li><a href="game.html?ver=nes&game=tetris">Tetris (USA)</a></li>
		</ul>
	</div>

	<div id="GBA" class="tabcontent">
		<h2>Game Boy Advance</h2>
		<h3>Pokémon</h3>
		<ul>
			<li><a href="game.html?ver=gba&game=pokemon_emerald">Pokémon Emerald</a></li>
			<li><a href="game.html?ver=gba&game=pokemon_fire_red">Pokémon FireRed (1636) (Squirrels) (USA)</a></li>
			<li><a href="game.html?ver=gba&game=pokemon_ruby">Pokémon Ruby</a></li>
			<li><a href="game.html?ver=gba&game=pokemon_sapphire">Pokémon Sapphire</a></li>
		</ul>
		<h3>Romhacks</h3>
		<ul>
			<li><a href="game.html?ver=gba&game=pokemon_emerald_shiny">Pokémon Emerald (1/50 Shiny Odds)</a></li>
			<li><a href="game.html?ver=gba&game=pokemon_radical_red">Pokémon Radical Red</a></li>
		</ul>
		<h3>Castlevania</h3>
		<ul>
			<li><a href="game.html?ver=gba&game=castlevania_aria">Aria of Sorrow (USA)</a></li>
		</ul>
	</div>

	<div id="N64" class="tabcontent">
		<h2>Nintendo 64</h2>
		<h3>Super Mario 64</h3>
		<ul>
			<li><a href="game.html?ver=n64&game=sm64_us">Super Mario 64 (USA)</a></li>
			<li><a href="game.html?ver=n64&game=sm64_jp">Super Mario 64 (JP)</a></li>
		</ul>
		<h3>Romhacks</h3>
		<ul>
			<li><a href="game.html?ver=n64&game=sm64_us_vdisp">Super Mario 64 (USA) (Variable Display)</a></li>
			<li><a href="game.html?ver=n64&game=sm64_jp_vdisp">Super Mario 64 (JP) (Variable Display)</a></li>
			<li><a href="game.html?ver=n64&game=sm64_random">Super Mario 64 Randomizer</a></li>
			<li><a href="game.html?ver=n64&game=sm64_random_nonstop">Super Mario 64 Randomizer Nonstop</a></li>
			<li><a href="game.html?ver=n64&game=sm64_abc_trials">Super Mario 64 The ABC Trials</a></li>
			<li><a href="game.html?ver=n64&game=gravity">Gravity Swap 64</a></li>
		</ul>
		<h3>Super Smash Bros. 64</h3>
		<ul>
			<li><a href="game.html?ver=n64&game=ssb_64">Super Smash Bros. 64</a></li>
		</ul>
		<h3>Romhacks</h3>
		<ul>
			<li><a href="game.html?ver=n64&game=smashremix">Smash Remix</a></li>
		</ul>
		<h3>Donkey Kong 64</h3>
		<ul>
			<li><a href="game.html?ver=n64&game=dk64">Donkey Kong 64 (USA)</a></li>
		</ul>
	</div>

	<div id="Web" class="tabcontent">
	</div>

	<button onclick="toggleoldcores()">Toggle Old Cores</button>

	<script src="edit.js"></script>

	<script>
		// page loading stuff
		console.log('Advanced features:');
		console.log('Set session storage \'origin\' to 0 to run the emulator hosted on this domain, 1 to run the loader script hosted on this domain, and 2 to run the loader script hosted elsewhere.');
		console.log('Set session storage \'emuWidth\' and \'emuHeight\' to set a custom size for EmulatorJS.');

		sessionStorage.origin = 0;
		sessionStorage.oldCores = 0;

		svars = getSessionStorage();

		updateTabs(svars.openTab);

		getId('emuselect').selectedIndex = svars.o_emu;
		getId('resselect').selectedIndex = svars.o_res;

		updateOptions();

		updateLinks();

		// essential functions
		function getId(id) {
			return document.getElementById(id);
		}

		function getClass(className) {
			return document.getElementsByClassName(className);
		}

		// major functions
		function getSessionStorage() { // gets variables from session storage and puts them in the svars object. If they don't exist, they are set to the default value
			svars = {};
			if (sessionStorage.openTab) { // keeps track of the open tab, auto sets the open tab to NES if no session storage
				svars.openTab = sessionStorage.openTab; // should add saftey to make sure the value is good
			} else {
				svars.openTab = 'NES';
			}

			if (sessionStorage.o_emu) {
				svars.o_emu = sessionStorage.o_emu;
			} else {
				svars.o_emu = 0;
			}

			if (sessionStorage.o_res) {
				svars.o_res = sessionStorage.o_res;
			} else {
				svars.o_res = 1;
			}

			return svars;
		}

		function updateTabs(tab) { // updates the tabs and buttons
			sessionStorage.openTab = tab;
			svars.openTab = tab;
			var i, tabcontent, tablinks;
			tabcontent = getClass('tabcontent');
			for (i = 0; i < tabcontent.length; i++) { // hides all tabes
				tabcontent[i].style.display = 'none';
			}
			getId(tab).style.display = 'block'; // shows the correct tab
			tablinks = getClass('tablinks');
			for (i = 0; i < tablinks.length; i++) { // clears the active class from all tabs and adds the active class to the correct tab
				tablinks[i].className = tablinks[i].className.replace(' active', '');
				if (tablinks[i].className.includes(tab)) {
					tablinks[i].className += ' active';
				}
			}
		}

		function updateOptions() {
			emu = getId('emu');
			res = getId('res');
			mirror = getId('mirror');
			search = getId('search');

			svars.o_emu = emu.children[1].selectedIndex;
			sessionStorage.o_emu = emu.children[1].selectedIndex;
			svars.o_res = res.children[1].selectedIndex;
			sessionStorage.o_res = res.children[1].selectedIndex;

			switch (svars.openTab) {
				case 'Web':
					emu.style.display = "none";
					res.style.display = "none";

					mirror.style.display = "block";
					search.style.display = "block";
					break;
				default:
					emu.style.display = "block";
					res.style.display = "block";

					mirror.style.display = "none";
					search.style.display = "none";

					switch (emu.children[1].selectedIndex) {
						case 0:
							res.style.display = "block";
							break;
						default:
							res.style.display = "none";
							break;
					}
					break;
			}
		}

		function updateLinks() {
			main = getId('Web');
			while (main.firstChild) { // clear all children
				main.removeChild(main.firstChild);
			}
			for (let i = 0; i < coolmathedit.length; i++) {
				if (coolmathedit[i][0].toLowerCase().includes(getId("searchbox").value.toLowerCase())) {
					el = document.createElement('a');
					el.textContent = coolmathedit[i][0]
					el.className = 'webelements';
					el.href = coolmathedit[i][1];
					el.setAttribute('target', '_blank');
					getId('Web').appendChild(el.cloneNode(true));
				}
			}
		}

		function toggleoldcores() {
			if (sessionStorage.oldCores == "0"){
				sessionStorage.oldCores = "1";
			} else {
				sessionStorage.oldCores = "0";
			}
		}
	</script>
</body>

</html>